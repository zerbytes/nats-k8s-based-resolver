---
title: nats-k8s-based-resolver Helm Chart
---
<!---
Document is generated by `make helm-docs`. DO NOT EDIT.
Edit the corresponding *.gotmpl.md file instead
-->

Installs [nats-k8s-based-resolver](https://github.com/zerbytes/nats-k8s-based-resolver).

## Prerequisites

* Kubernetes 1.19+
* Helm 3.x

See the [Helm support matrix](https://helm.sh/docs/topics/version_skew/) for more details.

## Installing

```console
helm repo add nats-k8s-based-resolver https://zerbytes.github.io/nats-k8s-based-resolver
helm install nats-k8s-based-resolver/nats-k8s-based-resolver -f values.yaml

# Or upgrade
helm upgrade --install nats-resolver nats-k8s-based-resolver/nats-k8s-based-resolver -f values.yaml
```

For example settings, see the next section or [values.yaml](/dist/chart/values.yaml).

### Must Change Values

The following values must be changed before installing the chart:

- `controllerManager.container.args`: Make sure to update the `--nats-url` flag to point to your NATS server/cluster that you want to manage with nats-k8s-based-resolver.

## Configuration

The following table lists the configurable parameters of the nats-k8s-based-resolver chart and their default values.

| Parameter | Description | Default |
|-----------|-------------|---------|
| `certmanager.enable` |  | `false` |
| `controllerManager.additionalVolumes[0].name` |  | `"sys-resolver-creds"` |
| `controllerManager.additionalVolumes[0].secret.secretName` |  | `"nats-sys-resolver-creds"` |
| `controllerManager.container.additionalVolumeMounts[0].mountPath` |  | `"/creds/sys-creds"` |
| `controllerManager.container.additionalVolumeMounts[0].name` |  | `"sys-resolver-creds"` |
| `controllerManager.container.additionalVolumeMounts[0].readOnly` |  | `true` |
| `controllerManager.container.args[0]` |  | `"--leader-elect"` |
| `controllerManager.container.args[1]` |  | `"--metrics-bind-address=:8443"` |
| `controllerManager.container.args[2]` |  | `"--health-probe-bind-address=:8081"` |
| `controllerManager.container.args[3]` |  | `"--nats-url={{ .Values.natsURL }}"` |
| `controllerManager.container.image.repository` |  | `"ghcr.io/zerbytes/nats-k8s-based-resolver"` |
| `controllerManager.container.image.tag` |  | `"main"` |
| `controllerManager.container.livenessProbe.httpGet.path` |  | `"/healthz"` |
| `controllerManager.container.livenessProbe.httpGet.port` |  | `8081` |
| `controllerManager.container.livenessProbe.initialDelaySeconds` |  | `15` |
| `controllerManager.container.livenessProbe.periodSeconds` |  | `20` |
| `controllerManager.container.readinessProbe.httpGet.path` |  | `"/readyz"` |
| `controllerManager.container.readinessProbe.httpGet.port` |  | `8081` |
| `controllerManager.container.readinessProbe.initialDelaySeconds` |  | `5` |
| `controllerManager.container.readinessProbe.periodSeconds` |  | `10` |
| `controllerManager.container.resources.limits.cpu` |  | `"500m"` |
| `controllerManager.container.resources.limits.memory` |  | `"128Mi"` |
| `controllerManager.container.resources.requests.cpu` |  | `"10m"` |
| `controllerManager.container.resources.requests.memory` |  | `"64Mi"` |
| `controllerManager.container.securityContext.allowPrivilegeEscalation` |  | `false` |
| `controllerManager.container.securityContext.capabilities.drop[0]` |  | `"ALL"` |
| `controllerManager.replicas` |  | `1` |
| `controllerManager.securityContext.runAsNonRoot` |  | `true` |
| `controllerManager.securityContext.seccompProfile.type` |  | `"RuntimeDefault"` |
| `controllerManager.serviceAccountName` |  | `"nats-k8s-based-resolver-controller-manager"` |
| `controllerManager.terminationGracePeriodSeconds` |  | `10` |
| `crd.enable` |  | `true` |
| `crd.keep` |  | `true` |
| `metrics.enable` |  | `true` |
| `natsURL` |  | `"nats://nats:4222"` |
| `networkPolicy.enable` |  | `false` |
| `prometheus.enable` |  | `false` |
| `rbac.enable` |  | `true` |
| `resolver.additionalVolumes[0].name` |  | `"sys-resolver-creds"` |
| `resolver.additionalVolumes[0].secret.secretName` |  | `"nats-sys-resolver-creds"` |
| `resolver.container.additionalVolumeMounts[0].mountPath` |  | `"/creds/sys-creds"` |
| `resolver.container.additionalVolumeMounts[0].name` |  | `"sys-resolver-creds"` |
| `resolver.container.additionalVolumeMounts[0].readOnly` |  | `true` |
| `resolver.container.args[0]` |  | `"--metrics-bind-address=:8443"` |
| `resolver.container.args[1]` |  | `"--health-probe-bind-address=:8081"` |
| `resolver.container.args[2]` |  | `"--nats-url={{ .Values.natsURL }}"` |
| `resolver.container.image.repository` |  | `"ghcr.io/zerbytes/nats-k8s-based-resolver"` |
| `resolver.container.image.tag` |  | `"main"` |
| `resolver.container.livenessProbe.httpGet.path` |  | `"/healthz"` |
| `resolver.container.livenessProbe.httpGet.port` |  | `8081` |
| `resolver.container.livenessProbe.initialDelaySeconds` |  | `15` |
| `resolver.container.livenessProbe.periodSeconds` |  | `20` |
| `resolver.container.readinessProbe.httpGet.path` |  | `"/readyz"` |
| `resolver.container.readinessProbe.httpGet.port` |  | `8081` |
| `resolver.container.readinessProbe.initialDelaySeconds` |  | `5` |
| `resolver.container.readinessProbe.periodSeconds` |  | `10` |
| `resolver.container.resources.limits.cpu` |  | `"500m"` |
| `resolver.container.resources.limits.memory` |  | `"128Mi"` |
| `resolver.container.resources.requests.cpu` |  | `"10m"` |
| `resolver.container.resources.requests.memory` |  | `"64Mi"` |
| `resolver.container.securityContext.allowPrivilegeEscalation` |  | `false` |
| `resolver.container.securityContext.capabilities.drop[0]` |  | `"ALL"` |
| `resolver.replicas` |  | `1` |
| `resolver.securityContext.runAsNonRoot` |  | `true` |
| `resolver.securityContext.seccompProfile.type` |  | `"RuntimeDefault"` |
| `resolver.serviceAccountName` |  | `"nats-k8s-based-resolver-controller-manager"` |
| `resolver.terminationGracePeriodSeconds` |  | `10` |

## Uninstalling the Chart

To see the currently installed nats-k8s-based-resolver chart:

```console
helm ls
```

To uninstall/delete the `nats-k8s-based-resolver` deployment:

```console
helm delete nats-k8s-based-resolver
```

The command removes all the Kubernetes components associated with the chart and deletes the release.

## License

Apache 2.0 License, see [LICENSE](/LICENSE).
