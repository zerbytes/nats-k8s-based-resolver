---
title: nats-k8s-based-resolver Helm Chart
---
<!---
Document is generated by `make helm-docs`. DO NOT EDIT.
Edit the corresponding *.gotmpl.md file instead
-->

Installs [nats-k8s-based-resolver](https://github.com/zerbytes/nats-k8s-based-resolver).

## Prerequisites

* Kubernetes 1.19+
* Helm 3.x

See the [Helm support matrix](https://helm.sh/docs/topics/version_skew/) for more details.

## Installing

```console
helm repo add nats-k8s-based-resolver https://zerbytes.github.io/nats-k8s-based-resolver
helm install nats-k8s-based-resolver/nats-k8s-based-resolver -f values.yaml

# Or upgrade
helm upgrade --install nats-resolver nats-k8s-based-resolver/nats-k8s-based-resolver -f values.yaml
```

For example settings, see the next section or [values.yaml](/dist/chart/values.yaml).

### Must Change Values

The following values must be changed before installing the chart:

- `manager.container.args`: Make sure to update the `--nats-url` flag to point to your NATS server/cluster that you want to manage with nats-k8s-based-resolver.

## Configuration

The following table lists the configurable parameters of the nats-k8s-based-resolver chart and their default values.

| Parameter | Description | Default |
|-----------|-------------|---------|
| `certmanager` | To enable cert-manager injection to webhooks set true | `{"enable":false}` |
| `crd` | To install the CRDs via Helm | `{"enable":true,"keep":true}` |
| `manager` | [MANAGER]: Manager Deployment Configurations | `{"additionalVolumes":[{"name":"sys-resolver-creds","secret":{"secretName":"nats-sys-resolver-creds"}}],"container":{"additionalVolumeMounts":[{"mountPath":"/creds/sys-creds","name":"sys-resolver-creds","readOnly":true}],"args":["--leader-elect","--metrics-bind-address=:8443","--health-probe-bind-address=:8081","--nats-url={{ .Values.natsURL }}"],"image":{"repository":"ghcr.io/zerbytes/nats-k8s-based-resolver","tag":"main"},"livenessProbe":{"httpGet":{"path":"/healthz","port":8081},"initialDelaySeconds":15,"periodSeconds":20},"readinessProbe":{"httpGet":{"path":"/readyz","port":8081},"initialDelaySeconds":5,"periodSeconds":10},"resources":{"limits":{"cpu":"500m","memory":"128Mi"},"requests":{"cpu":"10m","memory":"64Mi"}},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]}}},"replicas":1,"securityContext":{"runAsNonRoot":true,"seccompProfile":{"type":"RuntimeDefault"}},"serviceAccountName":"nats-k8s-based-resolver-controller-manager","terminationGracePeriodSeconds":10}` |
| `metrics` | Set to true to generate manifests for exporting metrics. To disable metrics export set false, and ensure that the ControllerManager argument "--metrics-bind-address=:8443" is removed. | `{"enable":true}` |
| `natsURL` | Your NATS server/cluster URL here (REQUIRED) | `"nats://nats:4222"` |
| `networkPolicy` | To enable NetworkPolicies set true (needs additional policies to allow traffic to the NATS server/cluster) | `{"enable":false}` |
| `prometheus` | To enable a ServiceMonitor to export metrics to Prometheus set true | `{"enable":false}` |
| `rbac` | To enable RBAC (Permissions) configurations | `{"enable":true}` |
| `resolver` | [RESOLVER]: Resolver Deployment Configurations | `{"additionalVolumes":[{"name":"sys-resolver-creds","secret":{"secretName":"nats-sys-resolver-creds"}}],"container":{"additionalVolumeMounts":[{"mountPath":"/creds/sys-creds","name":"sys-resolver-creds","readOnly":true}],"args":["--metrics-bind-address=:8443","--health-probe-bind-address=:8081","--nats-url={{ .Values.natsURL }}"],"image":{"repository":"ghcr.io/zerbytes/nats-k8s-based-resolver","tag":"main"},"livenessProbe":{"httpGet":{"path":"/healthz","port":8081},"initialDelaySeconds":15,"periodSeconds":20},"readinessProbe":{"httpGet":{"path":"/readyz","port":8081},"initialDelaySeconds":5,"periodSeconds":10},"resources":{"limits":{"cpu":"500m","memory":"128Mi"},"requests":{"cpu":"10m","memory":"64Mi"}},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]}}},"replicas":1,"securityContext":{"runAsNonRoot":true,"seccompProfile":{"type":"RuntimeDefault"}},"serviceAccountName":"nats-k8s-based-resolver-controller-manager","terminationGracePeriodSeconds":10}` |

## Uninstalling the Chart

To see the currently installed nats-k8s-based-resolver chart:

```console
helm ls
```

To uninstall/delete the `nats-k8s-based-resolver` deployment:

```console
helm delete nats-k8s-based-resolver
```

The command removes all the Kubernetes components associated with the chart and deletes the release.

## License

Apache 2.0 License, see [LICENSE](/LICENSE).
